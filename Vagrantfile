# -*- mode: ruby -*-
# vi: set ft=ruby :
Vagrant.configure("2") do |config|


  config.vm.define "kali" do |kali|
    kali.vm.box = "Sliim/kali-linux-2.0-amd64"
    kali.vm.hostname = 'kali'
    kali.vm.box_url = "Sliim/kali-linux-2.0-amd64"

    kali.vm.network :private_network, ip: "10.0.0.1"

    kali.vm.provider :virtualbox do |v|
      v.customize ["modifyvm", :id, "--natdnshostresolver1", "on"]
      v.customize ["modifyvm", :id, "--memory", 2048]
      v.customize ["modifyvm", :id, "--name", "kali"]
    end
  end

  config.vm.define "ubuntu" do |ubuntu|
    ubuntu.vm.box = "ubuntu/precise64"
    ubuntu.vm.hostname = 'ubuntu'
    ubuntu.vm.box_url = "ubuntu/precise64"

    ubuntu.vm.network :private_network, ip: "10.0.0.2"

    ubuntu.vm.provider :virtualbox do |v|
      v.customize ["modifyvm", :id, "--natdnshostresolver1", "on"]
      v.customize ["modifyvm", :id, "--memory", 512]
      v.customize ["modifyvm", :id, "--name", "ubuntu"]
    end
  end

  config.vm.define "winxp_ie6" do |winxp|
    winxp.vm.box = "ie6.xp.vagrant"
    winxp.vm.hostname = 'winxp'
    winxp.vm.communicator = "winrm"
    winxp.vm.box_url = "http://aka.ms/ie6.xp.vagrant"

    winxp.vm.network :private_network, ip: "10.0.0.10"

    winxp.vm.provider :virtualbox do |v|
      v.customize ["modifyvm", :id, "--natdnshostresolver1", "on"]
      v.customize ["modifyvm", :id, "--memory", 512]
      v.customize ["modifyvm", :id, "--name", "winxp"]
    end
  end


  config.vm.define "win7ie10" do |win7ie10|
    win7ie10.vm.box = "ie11.win7.vagrant"
    win7ie10.vm.hostname = 'win7ie11'
    win7ie10.vm.communicator = "winrm"
    win7ie10.vm.box_url = "http://aka.ms/ie11.win7.vagrant"

    win7ie10.vm.network :private_network, ip: "10.0.0.11"

    win7ie10.vm.provider :virtualbox do |v|
      v.customize ["modifyvm", :id, "--natdnshostresolver1", "on"]
      v.customize ["modifyvm", :id, "--memory", 512]
      v.customize ["modifyvm", :id, "--name", "win7"]
    end

    config.vm.provision "shell", inline: <<-SHELL, privileged: false
   sudo apt-get update -qq >> /dev/null
   sudo apt-get install -qq -y zsh vim tree gdb git tmux w3m elinks >> /dev/null
    git clone https://github.com/0x4141414141/dotfiles.git
    cd /home/vagrant/dotfiles
    source makesymlinks.sh
    
    SHELL
  end
end


