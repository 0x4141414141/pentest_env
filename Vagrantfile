# -*- mode: ruby -*-
# vi: set ft=ruby :
Vagrant.configure("2") do |config|


  config.vm.define "kali" do |kali|
    kali.vm.box = "http://box.hackbbs.org/kali-2016.2-light.box"
    kali.vm.hostname = 'kali'
    kali.vm.box_url = "http://box.hackbbs.org/kali-2016.2-light.box"

    kali.vm.network :private_network, ip: "10.0.0.2"

    kali.vm.provider :virtualbox do |v|
      v.customize ["modifyvm", :id, "--natdnshostresolver1", "on"]
      v.customize ["modifyvm", :id, "--memory", 2048]
      v.customize ["modifyvm", :id, "--name", "kali"]
    end
  end

  config.vm.define "ubuntu" do |ubuntu|
    ubuntu.vm.box = "ubuntu/trusty32"
    ubuntu.vm.hostname = 'ubuntu'
    ubuntu.vm.box_url = "ubuntu/trusty32"

    ubuntu.vm.network :private_network, ip: "10.0.0.3"

    ubuntu.vm.provider :virtualbox do |v|
      v.customize ["modifyvm", :id, "--natdnshostresolver1", "on"]
      v.customize ["modifyvm", :id, "--memory", 256]
      v.customize ["modifyvm", :id, "--name", "ubuntu"]
    end
   end

  config.vm.define "ubuntu64" do |ubuntu|
    ubuntu.vm.box = "ubuntu/trusty64"
    ubuntu.vm.hostname = 'ubuntu64'
    ubuntu.vm.box_url = "ubuntu/trusty64"

    ubuntu.vm.network :private_network, ip: "10.0.0.4"

    ubuntu.vm.provider :virtualbox do |v|
      v.customize ["modifyvm", :id, "--natdnshostresolver1", "on"]
      v.customize ["modifyvm", :id, "--memory", 256]
      v.customize ["modifyvm", :id, "--name", "ubuntu64"]
    end
  end

   config.vm.define "arch" do |arch|
    arch.vm.box = "terrywang/archlinux"
    arch.vm.hostname = 'arch'
    arch.vm.box_url = "terrywang/archlinux"

    arch.vm.network :private_network, ip: "10.0.0.5"

    arch.vm.provider :virtualbox do |v|
      v.customize ["modifyvm", :id, "--natdnshostresolver1", "on"]
      v.customize ["modifyvm", :id, "--memory", 256]
      v.customize ["modifyvm", :id, "--name", "arch"]
    end
  end


  config.vm.define "winxp_ie6" do |winxp|
    winxp.vm.box = "ie6.xp.vagrant"
    winxp.vm.hostname = 'winxp'
    winxp.vm.communicator = "winrm"
    winxp.vm.box_url = "http://aka.ms/ie6.xp.vagrant"

    winxp.vm.network :private_network, ip: "10.0.0.10"

    winxp.vm.provider :virtualbox do |v|
      v.customize ["modifyvm", :id, "--natdnshostresolver1", "on"]
      v.customize ["modifyvm", :id, "--memory", 256]
      v.customize ["modifyvm", :id, "--name", "winxp"]
      v.customize ["modifyvm", :id, "--vram", "32"]
      v.customize ["modifyvm", :id, "--clipboard", "bidirectional"]
    end
  end


  config.vm.define "win7ie10" do |win7ie10|
    win7ie10.vm.box = "ie11.win7.vagrant"
    win7ie10.vm.hostname = 'win7ie11'
    win7ie10.vm.communicator = "winrm"
    win7ie10.vm.box_url = "http://aka.ms/ie11.win7.vagrant"

    win7ie10.vm.network :private_network, ip: "10.0.0.11"

    win7ie10.vm.provider :virtualbox do |v|
      v.customize ["modifyvm", :id, "--natdnshostresolver1", "on"]
      v.customize ["modifyvm", :id, "--memory", 512]
      v.customize ["modifyvm", :id, "--name", "win7"]
      v.customize ["modifyvm", :id, "--vram", "128"]
      v.customize ["modifyvm", :id, "--clipboard", "bidirectional"]
    end

  end

  config.vm.provision "shell", inline: <<-SHELL, privileged: false
    sudo apt-get update -qq >> /dev/null
    sudo apt-get install -qq -y zsh vim tree gdb git tmux w3m elinks python-pip radare>> /dev/null
    sudo pip install cheat
    git clone https://github.com/0x4141414141/dotfiles.git
    cd /home/vagrant/dotfiles
    source makesymlinks.sh
    
    SHELL
  
end


